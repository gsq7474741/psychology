---
key: 回归任务
---

# 回归任务

## 常见模型

在[[数据分析]]中我们发现指标间是强相关的，为了对比一下效果，做了指标间的回归训练为一个baseline

- 指标间（3 to 1），标准化，5折
	- 指标：精致
		- 最佳：高斯过程回归（指数GPR）
		- RMSE：0.088
	-  指标：流畅
		- 最佳：逐步线性回归
		- RMSE：0.117
	- 指标：灵活
		- 最佳：粗略高斯SVM
		- RMSE：0.112
	- 指标：独特
		- 最佳：线性SVM
		- RMSE：0.154

接下来是特征到指标的和回归训练

- 使用全部特征，未标准化，5折，指标：精致，最佳：粗略高斯SVM，RMSE 0.6
- 使用全部特征，标准化，5折
	- 指标：精致
		- 最佳：粗略高斯SVM
		- RMSE：0.151
	- 指标：流畅
		- 最佳：高斯过程回归（指数GPR）
		- RMSE：0.153
	- 指标：灵活
		- 最佳：bagging
		- RMSE：0.163
	- 指标：独特
		- 最佳：bagging
		- RMSE：0.218

效果看起来还行，但是考虑到标准化后指标在0-1之间，不知道这个残差可否接受

另：RMSE(Root Mean Squared Error)受异常值影响较大，MAE(Mean Absolute Error)会小一些

## 深度模型

挖坑待填

## 特征选择

使用PCA进行特征选择，按保留成分个数和解释方差百分比做不同设置，指标RMSE，越小越好

|                            | svm   | bagging |
|----------------------------|-------|---------|
| 原始rmse                   | 0.153 | 0.156   |
| 解释0.95方差（保留了17个） | 0.177 | 0.169   |
| 解释0.90方差（保留了13个） | 0.177 | 0.162   |
| 保留10个成分               | 0.176 | 0.162   |
| 保留3个成分                | 0.179 | 0.169   |
| 保留1个成分                | 0.182 | 0.174   |

# 分类任务

处理：KFold，5折，特征标准化

由于分数是一对多关系，对每一个被试的多个打分取平均值后不是整数，故标准化后分段，类别数目见bins

根据系统界面，这里可以有两种设置，一个是将**每个打分选项视为一个类别**，如0 1 2 3四种类别；但是考虑到对打分取均值后的结果在数值上是连续的，第二种设置是将**n个打分选项视作n-1个区间**，如[0,1]，[1,2]，[2,3]三种类别

![[system_ui.png]]

## Setting 1

```python
# setting 1：cls
score_cols=['fluency', 'delicate', 'flexable', 'special']  
bins=[4,6,4,4]
```

### 常见模型

- 精致：三次KNN 48.6
- 流畅：线性SVM 64
- 灵活：线性SVM 55.9
- 独特：KNN 44.1

### 简单 transformer（未调参）

参见[TensorBoard](http://gsq7474741.tpddns.cn:6006)

- 精致：71.4
- 流畅：75
- 灵活：57.1
- 独特：64.2

可以看到比传统模型好一些

## Setting 2

```python
# setting 2：cls-1
score_cols=['fluency', 'delicate', 'flexable', 'special']
bins=[3,5,3,3]
```

### 常见模型

- 精致：子空间判别 55.9
- 流畅：bagging 73
- 灵活：线性SVM 73.0
- 独特：子空间判别 52.3

### 简单 transformer（未调参）

参见[TensorBoard](http://gsq7474741.tpddns.cn:6006)

- 精致：64.2
- 流畅：71.4
- 灵活：78.5
- 独特：67.8

比传统模型有提升，但是提升有限

接下来试一下别的模型
